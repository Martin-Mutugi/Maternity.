<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maternal Health Portal</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <link rel="stylesheet" href="style.css">
    <style>
    /* Body Styling */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    background-color: #f4f7fa;
}

/* Styling for Top Horizontal Navigation Bar */
#otherServicesNav {
    position: sticky;
    top: 0;
    z-index: 1000;
    padding: 10px;
    background-color: #f4f4f4;
    border: 1px solid #28a745;
    border-radius: 8px;
    margin-bottom: 15px;
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
}

#otherServicesNav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    justify-content: center;
}

#otherServicesNav .services-list li {
    margin: 0;
}

#otherServicesNav a {
    display: inline-block;
    padding: 8px 15px;
    background-color: #28a745;
    color: #fff;
    text-decoration: none;
    border-radius: 5px;
    font-size: 14px;
    text-align: center;
    font-weight: 500;
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

#otherServicesNav a:hover,
#otherServicesNav a.active {
    background-color: #218838;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
}

/* Form Container Styling */
.tab-pane {
    display: none;
    max-width: 850px;
    margin: 15px auto;
    padding: 20px;
    background-color: #ffffff;
    border-radius: 10px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    border: 1px solid #28a745;
    animation: fadeIn 0.3s ease-in-out;
}

.tab-pane.active {
    display: block;
}

/* Form Grid for Equal Columns */
.form-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* Three equal columns */
    gap: 15px;
    width: 100%;
    box-sizing: border-box;
}

.form-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

/* Input Field Styling */
.form-control {
    background-color: #ffffff;
    border: 1px solid #ced4da;
    border-radius: 5px;
    padding: 8px;
    font-size: 14px;
    width: 100%;
    box-sizing: border-box;
    transition: border-color 0.3s ease-in-out;
}

.form-control:focus {
    border-color: #28a745;
    box-shadow: 0 0 5px rgba(40, 167, 69, 0.25);
}

/* Label Styling */
.form-label {
    font-weight: bold;
    color: #343a40;
    font-size: 14px;
    margin-bottom: 5px;
}

/* Button Row Styling */
.button-row {
    display: flex;
    justify-content: center;
    gap: 10px;
    width: 100%;
    margin-top: 15px;
}

/* Button Styling */
.button-row button {
    padding: 8px 16px;
    font-size: 14px;
    border-radius: 5px;
    border: none;
    color: #fff;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.custom-save {
    background-color: #28a745;
}

.custom-edit {
    background-color: #007bff;
}

.custom-delete {
    background-color: #dc3545;
}

.custom-save:hover {
    background-color: #218838;
}

.custom-edit:hover {
    background-color: #0056b3;
}

.custom-delete:hover {
    background-color: #c82333;
}

/* Responsive Design */
@media (max-width: 768px) {
    .form-grid {
        grid-template-columns: 1fr; /* Single column on smaller screens */
    }

    #otherServicesNav a {
        font-size: 13px;
        padding: 6px 10px;
    }
}

/* Animation for Fade In Effect */
@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* Table Styling */
.table {
    width: 100%;
    margin-bottom: 20px;
    border-collapse: collapse;
}

.table th, 
.table td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: center;
}

.table th {
    background-color: #28a745;
    color: white;
}

.table td button {
    font-size: 12px;
    padding: 5px 10px;
}

/* Patient Info Section Styling */
#patientInfoSection {
    display: flex;
    justify-content: center;
    align-items: center;
    background-color: #343a40;
    padding: 10px;
    border-radius: 5px;
    color: #ffffff;
    margin-bottom: 20px;
    font-family: Arial, sans-serif;
}

#patientInfoSection h3 {
    font-size: 18px;
    font-weight: bold;
    color: #34C759;
    margin: 0 15px 0 0;
}

#patientInfoSection p {
    font-size: 14px;
    color: #c0c0c0;
}

    </style>
</head>
<body>
    <!-- Sidebar -->
<div id="sidebar">
    <!-- Sidebar Header with Image -->
    <div class="sidebar-header">
        <img src="Prime.jpeg" alt="Portal Logo" class="sidebar-image" width="100px" height="100px">
        <h3>Maternal Portal</h3>
        <p>Maternal Healthcare</p>
    </div>

    <!-- Sidebar Menu -->
    <ul class="sidebar-menu">
        <!-- Home Link -->
        <li><a href="#" class="nav-link active" onclick="showHome()"><i class="fas fa-home"></i> Home</a></li>

        <!-- Journal Reports -->
        <li><a href="#" class="nav-link" onclick="showJournalReports()"><i class="fas fa-book"></i> Journal Reports</a></li>

        <!-- Patients Dropdown -->
        <li class="dropdown">
            <a href="#" class="nav-link" onclick="toggleDropdown('patientsDropdown')">
                <i class="fas fa-users"></i> Patients
            </a>
            <ul class="dropdown-menu" id="patientsDropdown" style="display: none;">
                <!-- Types of Patients Dropdown -->
                <li class="dropdown">
                    <a href="#" onclick="toggleDropdown('typesDropdown')"><i class="fas fa-hospital"></i> Types of Admissions</a>
                    <ul class="dropdown-submenu" id="typesDropdown" style="display: none;">
                        <li><a href="#" onclick="showCreatePatient('scheduled')"><i class="fas fa-calendar-check"></i> Scheduled Admission</a></li>
                        <li><a href="#" onclick="showCreatePatient('early-labor')"><i class="fas fa-heartbeat"></i> Early Labor Admission</a></li>
                        <li><a href="#" onclick="showCreatePatient('emergency')"><i class="fas fa-ambulance"></i> Emergency Admission</a></li>
                        <li><a href="#" onclick="showCreatePatient('direct-delivery')"><i class="fas fa-baby"></i> Direct-to-Delivery</a></li>
                    </ul>
                </li>

                <!-- Create Patient Option -->
                <li><a href="#" class="nav-link" onclick="showRegisterPatientForm()"><i class="fas fa-user-plus"></i> Create Patient</a></li>
            </ul>
        </li>

        <!-- Other Sidebar Options -->
        <li><a href="#" class="nav-link"><i class="fas fa-cog"></i> Settings</a></li>
        <li><a href="#" class="nav-link"><i class="fas fa-headset"></i> Customer Support</a></li>
    </ul>

</div>
    <!-- Content Area -->
    <div id="content">
        <!-- Top Bar with Admin Profile and Patient Info -->
        <div id="topBar" class="d-flex justify-content-between align-items-center">
            <h2>Maternal Health Portal</h2>
            <div class="d-flex align-items-center">
                <div id="notificationIcon" class="mr-3">
                    <i class="fas fa-bell"></i>
                </div>
                <div id="userInfo" class="mr-3">
                    <p>Martin Mutugi</p>
                    <small>Mid Wife</small>
                </div>
        <div id="adminIcon">
            <img src="https://via.placeholder.com/50" alt="Admin Profile" class="rounded-circle">
        </div>
        
    </div>
</div>
<!-- Patient Info Section (Hidden by default, only visible when viewing a patient) -->
<div id="patientInfoSection">
    <h3>Patient: <span id="patientName"></span></h3>
    <p>Age: <span id="patientAge"></span></p>
</div>
        <!-- Patient Services Navigation (Initially Hidden) -->
<div id="otherServicesNav">
    <ul class="services-list">
        <li><a href="#" onclick="showService('socialLivingConditionsAndLifestyleHabits')">SocialLifestyle</a></li>
        <li><a href="#" onclick="showService('medicalHistory')">risk profile</a></li>
        <li><a href="#" onclick="showService('mentalHealthSupportRiskFactors')">medical info</a></li>
        <li><a href="#" onclick="showService('previousPregnancies')">PreviousPregnancies</a></li>
        <li><a href="#" onclick="showService('currentPregnancyDetails')">Pregnancy</a></li>
        <li><a href="#" onclick="showService('healthExamination')">Examination</a></li>
        <li><a href="#" onclick="showService('laboratoryResults')">LabResults</a></li>
        <li><a href="#" onclick="showService('carePlan')">Care Plan</a></li>
        <li><a href="#" onclick="showService('midwifeNotes')">Midwife Notes</a></li>
        <li><a href="#" onclick="showService('laborDelivery')">LaborDelivery</a></li>
        <li><a href="#" onclick="showService('partograph')">Partograph</a></li>
    </ul>
</div>
          <!-- Journal Reports Section -->
    <div id="journalReports" class="tab-pane hide">
        <h3>Journal Reports</h3>
        <div class="report-content">
            <!-- Display the content similar to the image you provided -->
            <pre id="journalReportText">
                <!-- This is where the report will be displayed -->
                Please add the text you want displayed here.
            </pre>
        </div>
    </div>

  <!-- Home Section: Patient List and Register Button -->
<div id="homeSection" class="tab-pane active">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2>Registered Patients</h2>
        <!-- Button to Show Register Patient Form -->
        <button class="btn btn-primary" onclick="toggleRegistrationForm()">Register Patient</button>
    </div>

    <!-- Admission Type Filter Dropdown -->
    <div class="filter-controls mb-3">
        <select id="admissionTypeFilter" class="form-select" onchange="filterPatientsByType()">
            <option value="all">All Patients</option>
            <option value="scheduled">Scheduled Admission</option>
            <option value="early-labor">Early Labor Admission</option>
            <option value="emergency">Emergency Admission</option>
            <option value="direct-delivery">Direct-to-Delivery</option>
        </select>
    </div>

    <!-- Registered Patients Table -->
    <table class="table table-striped" id="registeredPatientsTable">
        <thead>
            <tr>
                <th>Personal Number</th>
                <th>Full Name</th>
                <th>Date of Birth</th>
                <th>Mobile Phone</th>
                <th>Partner Contact</th>
                <th>Actions</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody id="patientsTableBody">
            <!-- Patient rows will be populated dynamically by JavaScript -->
        </tbody>
    </table>

    <!-- Patient Registration Form (hidden by default) -->
    <div id="patientRegistration" style="display: none; margin-top: 20px;">
        <h3>Register a New Patient</h3>
        
        <!-- Registration Form -->
        <form id="patientRegistrationForm">
            <!-- Admission Type Selection -->
            <div class="form-group">
                <label for="admissionType" class="form-label">Type of Admission</label>
                <div class="custom-dropdown">
                    <select id="admissionType" class="form-control with-icon" required>
                        <option value="scheduled">
                            &#xf073; Scheduled Admission
                        </option>
                        <option value="early-labor">
                            &#xf486; Early Labor Admission
                        </option>
                        <option value="emergency">
                            &#xf0f9; Emergency Admission
                        </option>
                        <option value="direct-delivery">
                            &#xf7ec; Direct-to-Delivery
                        </option>
                    </select>
                </div>
            </div>

            <!-- Personal Information Section -->
            <div class="form-grid">
                <!-- Personal Number -->
                <div class="form-group">
                    <label for="personalNumber" class="form-label">Personal Number</label>
                    <input type="text" class="form-control" id="personalNumber" placeholder="Enter personal number" required>
                </div>

                <!-- Full Name -->
                <div class="form-group">
                    <label for="fullName" class="form-label">Full Name</label>
                    <input type="text" class="form-control" id="fullName" placeholder="Enter full name" required>
                </div>

                <!-- Date of Birth -->
                <div class="form-group">
                    <label for="birthDate" class="form-label">Date of Birth</label>
                    <input type="date" class="form-control" id="birthDate" required>
                </div>

                <!-- Mobile Phone -->
                <div class="form-group">
                    <label for="mobilePhone" class="form-label">Mobile Phone</label>
                    <input type="tel" class="form-control" id="mobilePhone" placeholder="Enter phone number" required>
                </div>

                <!-- Partner Contact -->
                <div class="form-group">
                    <label for="emergencyContact" class="form-label">Partner Contact</label>
                    <input type="tel" class="form-control" id="emergencyContact" placeholder="Enter partner contact" required>
                </div>

                <!-- Midwife Notes -->
                <div class="form-group">
                    <label for="midwifeNotes" class="form-label">Midwife Notes</label>
                    <textarea class="form-control" id="mmidwifeNotes" placeholder="Enter any notes from the midwife" rows="4"></textarea>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="button-row">
                <button type="button" class="btn btn-success" onclick="registerPatient()">Register Patient</button>
                <button type="button" class="btn btn-secondary" onclick="cancelRegistration()">Cancel</button>
            </div>
        </form>
    </div>
</div>


<style>
   
/* Form Container */
.form-container {
    background-color: #ffffff;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    max-width: 600px;
    margin: auto;
}

/* Form Title */
.form-container h3 {
    text-align: center;
    color: #2d2f3a;
}

/* Form Grid Layout */
.form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

/* Form Labels */
.form-label {
    font-size: 14px;
    color: #495057;
}

/* Form Controls */
.form-control {
    width: 100%;
    padding: 8px;
    font-size: 14px;
    border-radius: 4px;
    border: 1px solid #ced4da;
    box-sizing: border-box;
}

/* Button Row */
.button-row {
    text-align: center;
    margin-top: 20px;
}

.button-row .btn {
    margin: 5px;
    padding: 10px 20px;
    font-size: 14px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

/* Custom Button Colors */
.btn-success {
    background-color: #28a745;
    color: #fff;
}

.btn-secondary {
    background-color: #6c757d;
    color: #fff;
}

.btn-success:hover {
    background-color: #218838;
}

.btn-secondary:hover {
    background-color: #5a6268;
}
</style>
    

   <!-- Social, Living Conditions, and Lifestyle Habits Section -->
<div id="socialLivingConditionsAndLifestyleHabits" class="tab-pane active">
    <h3 class="form-title">Social, Living Conditions, and Lifestyle Habits</h3>
    <form id="socialLivingConditionsAndLifestyleHabitsForm" class="form-grid">

        <!-- Social and Living Conditions -->
        <h5>Social and Living Conditions</h5>

        <!-- Family Situation -->
        <div class="form-group">
            <label for="familySituation" class="form-label">Family Situation</label>
            <select class="form-control" id="familySituation" required>
                <option value="">Select</option>
                <option value="married">Married</option>
                <option value="single">Single</option>
                <option value="divorced">Divorced</option>
                <option value="widowed">Widowed</option>
                <option value="singleParent">Single Parent</option>
            </select>
        </div>

        <!-- Support from Relatives -->
        <div class="form-group">
            <label for="supportAvailable" class="form-label">Is Support Available?</label>
            <div>
                <input type="checkbox" id="supportAvailableYes" name="supportAvailable" value="true"> Yes
                <input type="checkbox" id="supportAvailableNo" name="supportAvailable" value="false"> No
            </div>
        </div>

        <!-- Support Details (Visible only if "Yes" is selected) -->
        <div class="form-group" id="supportDetailsField" style="display: none;">
            <label for="supportDetails" class="form-label">Support Details</label>
            <input type="text" class="form-control" id="supportDetails" placeholder="Describe support">
        </div>

        <!-- Living Situation -->
        <div class="form-group">
            <label for="livingSituation" class="form-label">Living Situation</label>
            <select class="form-control" id="livingSituation" required>
                <option value="">Select</option>
                <option value="alone">Alone</option>
                <option value="withFamily">With Family</option>
                <option value="withRoommate">With Roommate</option>
                <option value="institutionalized">Institutionalized</option>
                <option value="other">Other</option>
            </select>
        </div>

        <!-- Profession -->
        <div class="form-group">
            <label for="profession" class="form-label">Profession</label>
            <select class="form-control" id="profession" required>
                <option value="">Select</option>
                <option value="doctor">Doctor</option>
                <option value="nurse">Nurse</option>
                <option value="teacher">Teacher</option>
                <option value="engineer">Engineer</option>
                <option value="lawyer">Lawyer</option>
                <option value="student">Student</option>
                <option value="unemployed">Unemployed</option>
                <option value="other">Other</option>
            </select>
        </div>

        <!-- Working Type -->
        <div class="form-group">
            <label for="workingType" class="form-label">Working Type</label>
            <select class="form-control" id="workingType" required>
                <option value="">Select</option>
                <option value="fullTime">Full-time</option>
                <option value="partTime">Part-time</option>
                <option value="selfEmployed">Self-employed</option>
                <option value="freelancer">Freelancer</option>
                <option value="notWorking">Not Working</option>
            </select>
        </div>

        <!-- Mode of Transport -->
        <div class="form-group">
            <label for="modeOfTransport" class="form-label">Transport</label>
            <select class="form-control" id="modeOfTransport" required>
                <option value="">Select</option>
                <option value="car">Car</option>
                <option value="publicTransport">Public Transport</option>
                <option value="bicycle">Bicycle</option>
                <option value="motorbike">Motorbike</option>
                <option value="walking">Walking</option>
                <option value="other">Other</option>
            </select>
        </div>

        <!-- Lifestyle and Habits -->
        <h5>Lifestyle and Habits</h5>

        <!-- Smoking Status -->
        <div class="form-group">
            <label for="smoking" class="form-label">Smoking</label>
            <select class="form-control" id="smoking" required>
                <option value="">Select</option>
                <option value="yes">Yes</option>
                <option value="no">No</option>
                <option value="quit">Quit</option>
            </select>
        </div>

        <!-- Alcohol Use Before Pregnancy -->
        <div class="form-group">
            <label for="alcoholBeforePregnancy" class="form-label">Alcohol Before Pregnancy</label>
            <input type="text" class="form-control" id="alcoholBeforePregnancy" placeholder="e.g., occasional">
        </div>

        <!-- Alcohol Use During Pregnancy -->
        <div class="form-group">
            <label for="alcoholDuringPregnancy" class="form-label">Alcohol During Pregnancy</label>
            <input type="text" class="form-control" id="alcoholDuringPregnancy" placeholder="e.g., occasional">
        </div>

        <!-- Drug Use -->
        <div class="form-group">
            <label for="drugUse" class="form-label">Drug Use</label>
            <div>
                <input type="checkbox" id="drugUseYes" name="drugUse" value="true"> Yes
                <input type="checkbox" id="drugUseNo" name="drugUse" value="false"> No
            </div>
        </div>

        <!-- Physical Activity Before Pregnancy -->
        <div class="form-group">
            <label for="physicalActivityBeforePregnancy" class="form-label">Physical Activity Before</label>
            <input type="number" class="form-control" id="physicalActivityBeforePregnancy" placeholder="e.g., 150">
        </div>

        <!-- Physical Activity During Pregnancy -->
        <div class="form-group">
            <label for="physicalActivityDuringPregnancy" class="form-label">Physical Activity During</label>
            <input type="number" class="form-control" id="physicalActivityDuringPregnancy" placeholder="e.g., 30">
        </div>

        <!-- Save/Edit/Delete Buttons -->
        <div class="button-row">
            <button type="button" class="btn custom-save">Save</button>
            <button type="button" class="btn custom-edit">Edit</button>
            <button type="button" class="btn custom-delete">Delete</button>
        </div>
    </form>
</div>

<!-- CSS Styling -->
<style>
    .form-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 0.25rem;
        background-color: #ffffff;
        padding: 8px;
        border-radius: 4px;
        box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);
        max-width: 800px;
        margin: 10px auto;
    }

    /* Title and Header Styling */
    .form-title {
        text-align: center;
        font-size: 1.1rem;
        color: #333;
        grid-column: span 3;
        margin: 0;
    }

    h5 {
        grid-column: span 3;
        font-weight: bold;
        font-size: 0.9rem;
        color: #333;
        margin: 0.5rem 0 0.25rem;
    }

    /* Labels */
    .form-label {
        font-size: 11px;
        color: #333;
        font-weight: bold;
        margin: 0 0 2px;
    }

    /* Input Fields */
    .form-control {
        padding: 4px;
        font-size: 11px;
        border-radius: 3px;
        border: 1px solid #ced4da;
    }

    /* Button Row */
    .button-row {
        grid-column: span 3;
        display: flex;
        justify-content: center;
        gap: 4px;
        margin-top: 0.5rem;
    }

    /* Buttons */
    .custom-save, .custom-edit, .custom-delete {
        padding: 4px 8px;
        font-size: 11px;
        border-radius: 3px;
        cursor: pointer;
        border: none;
        color: white;
    }

    .custom-save { background-color: #28a745; }
    .custom-edit { background-color: #007bff; }
    .custom-delete { background-color: #dc3545; }

    /* Responsive Design */
    @media (max-width: 768px) {
        .form-grid { grid-template-columns: 1fr; }
        .form-label, .form-control, .custom-save, .custom-edit, .custom-delete { font-size: 10px; }
    }
</style>



<!-- JavaScript for Conditional Display -->
<script>
function toggleSupportDetails() {
    const supportAvailableYes = document.getElementById('supportAvailableYes').checked;
    const supportDetailsField = document.getElementById('supportDetailsField');
    supportDetailsField.style.display = supportAvailableYes ? 'block' : 'none';
}
</script>
<!-- Medical History Section -->
<div id="medicalHistory" class="tab-pane active">
    <h3 class="form-title">Medical History</h3>
    <form id="medicalHistoryForm" class="form-grid" novalidate>

        <!-- Thyroid Disease -->
        <div class="form-group">
            <label for="thyroidDisease" class="form-label">Thyroid Disease</label>
            <div>
                <input type="radio" name="thyroidDisease" value="true" onclick="toggleDetails('thyroidDiseaseDetails', true)"> Yes
                <input type="radio" name="thyroidDisease" value="false" onclick="toggleDetails('thyroidDiseaseDetails', false)"> No
            </div>
            <div id="thyroidDiseaseDetails" class="details-box">
                <label for="thyroidDiseaseInfo" class="form-label">Details of Thyroid Disease</label>
                <textarea class="form-control" id="thyroidDiseaseInfo" placeholder="Enter details"></textarea>
            </div>
        </div>

        <!-- HIV -->
        <div class="form-group">
            <label for="hiv" class="form-label">HIV</label>
            <div>
                <input type="radio" name="hiv" value="true" onclick="toggleDetails('hivDetails', true)"> Yes
                <input type="radio" name="hiv" value="false" onclick="toggleDetails('hivDetails', false)"> No
            </div>
            <div id="hivDetails" class="details-box">
                <label for="hivInfo" class="form-label">Details of HIV</label>
                <textarea class="form-control" id="hivInfo" placeholder="Enter details"></textarea>
            </div>
        </div>

        <!-- Cancer -->
        <div class="form-group">
            <label for="cancer" class="form-label">Cancer</label>
            <div>
                <input type="radio" name="cancer" value="true" onclick="toggleDetails('cancerDetails', true)"> Yes
                <input type="radio" name="cancer" value="false" onclick="toggleDetails('cancerDetails', false)"> No
            </div>
            <div id="cancerDetails" class="details-box">
                <label for="cancerInfo" class="form-label">Details of Cancer</label>
                <textarea class="form-control" id="cancerInfo" placeholder="Enter details"></textarea>
            </div>
        </div>

        <!-- Kidney Disease -->
        <div class="form-group">
            <label for="kidneyDisease" class="form-label">Kidney Disease</label>
            <div>
                <input type="radio" name="kidneyDisease" value="true" onclick="toggleDetails('kidneyDiseaseDetails', true)"> Yes
                <input type="radio" name="kidneyDisease" value="false" onclick="toggleDetails('kidneyDiseaseDetails', false)"> No
            </div>
            <div id="kidneyDiseaseDetails" class="details-box">
                <label for="kidneyDiseaseInfo" class="form-label">Details of Kidney Disease</label>
                <textarea class="form-control" id="kidneyDiseaseInfo" placeholder="Enter details"></textarea>
            </div>
        </div>

        <!-- Heart Disease -->
        <div class="form-group">
            <label for="heartDisease" class="form-label">Heart Disease</label>
            <div>
                <input type="radio" name="heartDisease" value="true" onclick="toggleDetails('heartDiseaseDetails', true)"> Yes
                <input type="radio" name="heartDisease" value="false" onclick="toggleDetails('heartDiseaseDetails', false)"> No
            </div>
            <div id="heartDiseaseDetails" class="details-box">
                <label for="heartDiseaseInfo" class="form-label">Details of Heart Disease</label>
                <textarea class="form-control" id="heartDiseaseInfo" placeholder="Enter details"></textarea>
            </div>
        </div>

        <!-- Diabetes -->
        <div class="form-group">
            <label for="diabetes" class="form-label">Diabetes</label>
            <div>
                <input type="radio" name="diabetes" value="true" onclick="toggleDetails('diabetesDetails', true)"> Yes
                <input type="radio" name="diabetes" value="false" onclick="toggleDetails('diabetesDetails', false)"> No
            </div>
            <div id="diabetesDetails" class="details-box">
                <label for="diabetesInfo" class="form-label">Details of Diabetes</label>
                <textarea class="form-control" id="diabetesInfo" placeholder="Enter details"></textarea>
            </div>
        </div>

        <!-- High Blood Pressure -->
        <div class="form-group">
            <label for="highBloodPressure" class="form-label">High Blood Pressure</label>
            <div>
                <input type="radio" name="highBloodPressure" value="true" onclick="toggleDetails('highBloodPressureDetails', true)"> Yes
                <input type="radio" name="highBloodPressure" value="false" onclick="toggleDetails('highBloodPressureDetails', false)"> No
            </div>
            <div id="highBloodPressureDetails" class="details-box">
                <label for="highBloodPressureInfo" class="form-label">Details of High Blood Pressure</label>
                <textarea class="form-control" id="highBloodPressureInfo" placeholder="Enter details"></textarea>
            </div>
        </div>

        <!-- Pre-eclampsia -->
        <div class="form-group">
            <label for="preEclampsia" class="form-label">Pre-eclampsia</label>
            <div>
                <input type="radio" name="preEclampsia" value="true" onclick="toggleDetails('preEclampsiaDetails', true)"> Yes
                <input type="radio" name="preEclampsia" value="false" onclick="toggleDetails('preEclampsiaDetails', false)"> No
            </div>
            <div id="preEclampsiaDetails" class="details-box">
                <label for="preEclampsiaInfo" class="form-label">Details of Pre-eclampsia</label>
                <textarea class="form-control" id="preEclampsiaInfo" placeholder="Enter details"></textarea>
            </div>
        </div>

        <!-- Save/Edit/Delete Buttons -->
        <div class="button-row">
            <button type="button" class="btn custom-save">Save</button>
            <button type="button" class="btn custom-edit">Edit</button>
            <button type="button" class="btn custom-delete">Delete</button>
        </div>
    </form>
</div>

<!-- CSS Styling -->
<style>
    /* Compact Grid Layout */
    .form-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 0.25rem;
        background-color: #ffffff;
        padding: 8px;
        border-radius: 4px;
        box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);
        max-width: 800px;
        margin: 10px auto;
    }

    /* Title and Header Styling */
    .form-title {
        text-align: center;
        font-size: 1.1rem;
        color: #333;
        grid-column: span 3;
        margin: 0;
    }

    /* Labels */
    .form-label {
        font-size: 11px;
        color: #333;
        font-weight: bold;
        margin: 0 0 2px;
    }

    /* Input Fields */
    .form-control {
        padding: 4px;
        font-size: 11px;
        border-radius: 3px;
        border: 1px solid #ced4da;
    }

    /* Details Box */
    .details-box {
        display: none;
        margin-top: 4px;
    }

    /* Button Row */
    .button-row {
        grid-column: span 3;
        display: flex;
        justify-content: center;
        gap: 4px;
        margin-top: 0.5rem;
    }

    /* Buttons */
    .custom-save, .custom-edit, .custom-delete {
        padding: 4px 8px;
        font-size: 11px;
        border-radius: 3px;
        cursor: pointer;
        border: none;
        color: white;
    }

    .custom-save { background-color: #28a745; }
    .custom-edit { background-color: #007bff; }
    .custom-delete { background-color: #dc3545; }

    /* Responsive Design */
    @media (max-width: 768px) {
        .form-grid { grid-template-columns: 1fr; }
        .form-label, .form-control, .custom-save, .custom-edit, .custom-delete { font-size: 10px; }
    }
</style>


<!-- JavaScript to Display Additional Details Fields Based on Selection -->
<script>
    function toggleDetails(detailsId, show) {
        document.getElementById(detailsId).style.display = show ? 'block' : 'none';
    }
</script>


<!-- Combined Mental Health, Support, Risk Factors, and Treatment Section -->
<div id="mentalHealthSupportRiskFactors" class="tab-pane active">
    <form id="mentalHealthSupportRiskFactorsForm" novalidate class="three-column-grid">
        
        <!-- Anxiety or Depression -->
        <h5 class="header-row">Anxiety or Depression</h5>
        <div class="form-group">
            <label class="form-label">Previous Episodes</label>
            <input type="text" class="form-control" id="previousEpisodes" placeholder="e.g., Yes/No">
        </div>
        <div class="form-group">
            <label class="form-label">Current Episodes</label>
            <input type="text" class="form-control" id="currentEpisodes" placeholder="e.g., Yes/No">
        </div>

        <!-- Stress Levels -->
        <h5 class="header-row">Stress Levels</h5>
        <div class="form-group">
            <label for="stressLevelBefore" class="form-label">Before Pregnancy</label>
            <input type="text" class="form-control" id="stressLevelBefore" placeholder="e.g., low, moderate, high">
        </div>
        <div class="form-group">
            <label for="currentStressLevel" class="form-label">Current Stress Level</label>
            <input type="text" class="form-control" id="currentStressLevel" placeholder="e.g., low, moderate, high">
        </div>

        <!-- Support from Relatives -->
        <h5 class="header-row">Support from Relatives</h5>
        <div class="form-group">
            <label class="form-label">Support Available?</label>
            <div>
                <input type="radio" id="supportYes" name="supportAvailable" value="yes"> Yes
                <input type="radio" id="supportNo" name="supportAvailable" value="no"> No
            </div>
        </div>
        <div class="form-group">
            <label for="livingSituation" class="form-label">Living Situation</label>
            <input type="text" class="form-control" id="livingSituation" placeholder="e.g., with relatives, alone">
        </div>

        <!-- Risk Factors -->
        <h5 class="header-row">Risk Factors</h5>
        <div class="form-group">
            <label class="form-label">Smoking</label>
            <div>
                <input type="radio" id="smokingYes" name="smoking" value="yes"> Yes
                <input type="radio" id="smokingNo" name="smoking" value="no"> No
            </div>
        </div>
        <div class="form-group">
            <label class="form-label">Alcohol Use</label>
            <div>
                <input type="radio" id="alcoholYes" name="alcoholUse" value="yes"> Yes
                <input type="radio" id="alcoholNo" name="alcoholUse" value="no"> No
            </div>
        </div>
        <div class="form-group">
            <label class="form-label">Drug Use</label>
            <div>
                <input type="radio" id="drugYes" name="drugUse" value="yes"> Yes
                <input type="radio" id="drugNo" name="drugUse" value="no"> No
            </div>
        </div>

        <!-- Ongoing Treatment Table -->
        <h5 class="header-row">Ongoing Treatment</h5>
        <div class="table-wrapper">
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>Treatment Name</th>
                        <th>Dosage</th>
                        <th>Frequency</th>
                        <th>Duration</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><input type="text" class="form-control" placeholder="Treatment name"></td>
                        <td><input type="text" class="form-control" placeholder="Dosage"></td>
                        <td><input type="text" class="form-control" placeholder="Frequency"></td>
                        <td><input type="text" class="form-control" placeholder="Duration"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Allergies -->
        <h5 class="header-row">Allergies</h5>
        <div class="form-group">
            <label class="form-label">Medication Allergies</label>
            <div>
                <input type="radio" id="medAllergiesYes" name="medAllergies" value="yes"> Yes
                <input type="radio" id="medAllergiesNo" name="medAllergies" value="no"> No
            </div>
        </div>
        <div class="form-group">
            <label for="otherAllergies" class="form-label">Other Allergies</label>
            <textarea class="form-control" id="otherAllergies" placeholder="Specify other allergies" rows="2"></textarea>
        </div>

        <!-- Ongoing Diagnoses -->
        <h5 class="header-row">Ongoing Diagnoses</h5>
        <div class="form-group">
            <label for="ongoingDiagnoses" class="form-label">Details</label>
            <textarea class="form-control" id="ongoingDiagnoses" placeholder="Enter ongoing diagnoses" rows="2"></textarea>
        </div>

        <!-- Save/Edit/Delete Buttons -->
        <div class="button-row">
            <button type="button" class="btn custom-save">Save</button>
            <button type="button" class="btn custom-edit">Edit</button>
            <button type="button" class="btn custom-delete">Delete</button>
        </div>
    </form>
</div>

<style>
    /* Three-column compact grid layout */
    .three-column-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        max-width: 850px;
        margin: 0 auto;
        padding: 10px;
        background-color: #fff;
        border-radius: 10px;
        border: 1px solid #28a745;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .form-group {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
    }

    .header-row {
        grid-column: span 3;
        font-weight: bold;
        font-size: 16px;
        color: #343a40;
        margin-bottom: 10px;
        text-align: center;
    }

    .form-label {
        font-size: 13px;
        margin-bottom: 4px;
        font-weight: 600;
    }

    .form-control {
        font-size: 13px;
        padding: 6px;
        border-radius: 4px;
        border: 1px solid #ced4da;
    }

    .table-wrapper {
        grid-column: span 3;
    }

    .table-bordered {
        width: 100%;
        text-align: center;
        font-size: 12px;
        margin-top: 10px;
        margin-bottom: 10px;
    }

    /* Button Styling */
    .button-row {
        grid-column: span 3;
        display: flex;
        justify-content: center;
        gap: 8px;
    }

    .custom-save {
        background-color: #28a745;
        color: white;
    }

    .custom-edit {
        background-color: #007bff;
        color: white;
    }

    .custom-delete {
        background-color: #dc3545;
        color: white;
    }

    .custom-save:hover,
    .custom-edit:hover,
    .custom-delete:hover {
        opacity: 0.9;
    }
</style>

<script>
    // Show/hide doctor's notes based on selection
    document.querySelectorAll('input[name="previousAnxietyOrDepression"]').forEach(radio => {
        radio.addEventListener('change', function() {
            const detailsDiv = document.getElementById('previousAnxietyOrDepressionDetails');
            if (this.checked && this.value === 'true') {
                detailsDiv.style.display = 'block';
            } else {
                detailsDiv.style.display = 'none';
            }
        });
    });
</script>

<!-- Current Pregnancy Details Section -->
<div id="currentPregnancyDetails" class="tab-pane hide">
    <div class="header-row">
        <h3>Current Pregnancy Details</h3>

        <!-- Type of Contact and Date of Contact beside header -->
        <div class="contact-info">
            <label for="typeOfContact" class="form-label">Type of Contact</label>
            <select class="form-control" id="typeOfContact" required onchange="handleContactTypeChange()">
                <option value="">Select Contact Type</option>
                <option value="physical">Physical</option>
                <option value="onlineVoiceCall">Online Voice Call</option>
                <option value="onlineVideoCall">Online Video Call</option>
            </select>
            <div class="invalid-feedback">Please select a type of contact.</div>
        </div>

        <div class="contact-info">
            <label for="dateOfContact" class="form-label">Date of Contact</label>
            <input type="date" class="form-control" id="dateOfContact" required>
            <div class="invalid-feedback">Please enter the date of contact.</div>
        </div>
    </div>

    <form id="currentPregnancyForm" class="form-grid" novalidate>

        <!-- Column 1 -->
        <div>
            <div class="mb-3" id="contactLinkField" style="display: none;">
                <label for="contactLink" class="form-label" id="contactLinkLabel">Contact Link</label>
                <input type="url" class="form-control" id="contactLink" placeholder="Enter the call link">
                <div class="invalid-feedback">Please enter a valid link for the online call.</div>
            </div>

            <div class="mb-3">
                <label for="lastMenstruation" class="form-label">Last Menstruation Date</label>
                <input type="date" class="form-control" id="lastMenstruation" required>
                <div class="invalid-feedback">Please enter the last menstruation date.</div>
            </div>

            <div class="mb-3">
                <label for="positivePregnancyTest" class="form-label">Positive Pregnancy Test</label>
                <div>
                    <input type="checkbox" id="positivePregnancyTestYes" name="positivePregnancyTest" value="true"> Yes
                    <input type="checkbox" id="positivePregnancyTestNo" name="positivePregnancyTest" value="false"> No
                </div>
            </div>

            <div class="mb-3">
                <label for="stoppedContraceptive" class="form-label">Stopped Contraceptive</label>
                <div>
                    <input type="checkbox" id="stoppedContraceptiveYes" name="stoppedContraceptive" value="true"> Yes
                    <input type="checkbox" id="stoppedContraceptiveNo" name="stoppedContraceptive" value="false"> No
                </div>
            </div>

            <div class="mb-3">
                <label for="iudRemoved" class="form-label">IUD Removed</label>
                <div>
                    <input type="checkbox" id="iudRemovedYes" name="iudRemoved" value="true"> Yes
                    <input type="checkbox" id="iudRemovedNo" name="iudRemoved" value="false"> No
                </div>
            </div>
        </div>

        <!-- Column 2 -->
        <div>
            <div class="mb-3">
                <label for="dueDateLastMenstrualPeriod" class="form-label">Due Date (LMP)</label>
                <input type="date" class="form-control" id="dueDateLastMenstrualPeriod" required>
                <div class="invalid-feedback">Please enter the due date based on LMP.</div>
            </div>

            <div class="mb-3">
                <label for="ultrasoundDueDate" class="form-label">Ultrasound-Based Due Date</label>
                <input type="date" class="form-control" id="ultrasoundDueDate" required>
                <div class="invalid-feedback">Please enter the ultrasound-based due date.</div>
            </div>

            <div class="mb-3">
                <label for="weeksPregnant" class="form-label">Weeks Pregnant (Ultrasound)</label>
                <input type="number" class="form-control" id="weeksPregnant" required>
                <div class="invalid-feedback">Please enter the weeks based on ultrasound.</div>
            </div>

            <div class="mb-3">
                <label for="ultrasoundScheduled" class="form-label">Ultrasound Scheduled</label>
                <div>
                    <input type="checkbox" id="ultrasoundScheduledYes" name="ultrasoundScheduled" value="true"> Yes
                    <input type="checkbox" id="ultrasoundScheduledNo" name="ultrasoundScheduled" value="false"> No
                </div>
            </div>

            <div class="mb-3">
                <label for="mmidwifeNotes" class="form-label">Midwife Notes</label>
                <textarea class="form-control" id="mmidwifeNotes" placeholder="Enter midwife notes" rows="2"></textarea>
            </div>
        </div>

        <div class="button-row">
            <button type="button" class="btn custom-save">Save</button>
            <button type="button" class="btn custom-edit">Edit</button>
            <button type="button" class="btn custom-delete">Delete</button>
        </div>

    </form>
</div>

<style>
/* Layout for the header with contact information */
.header-row {
    display: grid;
    grid-template-columns: 1fr auto auto;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
}

.contact-info {
    display: flex;
    flex-direction: column;
}

/* Balanced two-column grid layout */
.form-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    max-width: 700px; /* Constrained width */
    max-height: 500px; /* Constrained height */
    margin: 10px auto;
}

/* Form field styling */
.form-label {
    font-size: 12px;
    color: #333;
    font-weight: bold;
    margin-bottom: 3px;
}

.form-control {
    padding: 5px;
    font-size: 12px;
    border-radius: 3px;
    border: 1px solid #ced4da;
    box-sizing: border-box;
}

/* Button Row - centered alignment */
.button-row {
    grid-column: span 2;
    display: flex;
    justify-content: center;
    gap: 5px;
    margin-top: 10px;
}

.custom-save, .custom-edit, .custom-delete {
    padding: 6px 12px;
    font-size: 12px;
    border-radius: 3px;
    cursor: pointer;
    border: none;
    color: white;
    width: 80px; /* Ensures equal button widths */
}

.custom-save { background-color: #28a745; }
.custom-edit { background-color: #007bff; }
.custom-delete { background-color: #dc3545; }

/* Equal height for text areas */
textarea.form-control {
    height: 50px;
}

/* Constrained width and height for the entire form section */
#currentPregnancyDetails {
    width: 100%; /* Full width of container */
    max-width: 700px; /* Equal width constraint */
    max-height: 600px; /* Equal height constraint */
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.1);
    background-color: #f9f9f9;
    overflow-y: auto; /* Allows scrolling if content overflows */
}

/* Responsive Design */
@media (max-width: 768px) {
    .form-grid { grid-template-columns: 1fr; }
    #currentPregnancyDetails {
        max-width: 100%;
        max-height: none;
        overflow: auto;
    }
}

@media (max-width: 576px) {
    .form-control, .form-label {
        font-size: 10px;
    }
    .custom-save, .custom-edit, .custom-delete {
        padding: 5px;
        font-size: 10px;
    }
}

</style>


<!-- JavaScript to Handle Contact Type Change -->
<script>
function handleContactTypeChange() {
    var contactType = document.getElementById("typeOfContact").value;
    var contactLinkField = document.getElementById("contactLinkField");
    var contactLinkLabel = document.getElementById("contactLinkLabel");

    if (contactType === "onlineVoiceCall") {
        contactLinkField.style.display = "block";
        contactLinkLabel.innerHTML = "Online Voice Call Link";
    } else if (contactType === "onlineVideoCall") {
        contactLinkField.style.display = "block";
        contactLinkLabel.innerHTML = "Online Video Call Link";
    } else {
        contactLinkField.style.display = "none";
    }
}
</script>

       
  <!-- Health Examination Section -->
<div id="healthExamination" class="tab-pane active">
    <div class="header-row">
        <h3>Health Examination</h3>

        <!-- Type of Contact -->
        <div class="contact-info">
            <label for="typeOfContact" class="form-label">Type of Contact</label>
            <select class="form-control" id="typeOfContact" required onchange="handleContactTypeChange()">
                <option value="">Select Type of Contact</option>
                <option value="physical">Physical</option>
                <option value="voiceOnlineCall">Voice Online Call</option>
                <option value="videoOnlineCall">Video Online Call</option>
            </select>
            <div class="invalid-feedback">Please select a type of contact.</div>
        </div>

        <!-- Date of Contact -->
        <div class="contact-info">
            <label for="contactDate" class="form-label">Date of Contact</label>
            <input type="date" class="form-control" id="contactDate" required>
            <div class="invalid-feedback">Please enter the date of contact.</div>
        </div>
    </div>

    <form id="healthExaminationForm" class="form-grid" novalidate>

        <!-- Online Call Link (Visible only for online calls) -->
        <div class="form-group" id="onlineCallLinkSection" style="display: none;">
            <label for="onlineCallLink" class="form-label">Online Call Link</label>
            <input type="url" class="form-control" id="onlineCallLink" placeholder="Enter link for online call">
            <div class="invalid-feedback">Please provide a valid link for the online call.</div>
        </div>

        <!-- Height, Weight, and BMI Calculation Row -->
        <div class="form-group">
            <label for="heightCm" class="form-label">Height (cm)</label>
            <input type="number" class="form-control" id="heightCm" placeholder="Enter height in cm" required onchange="calculateBMI()">
            <div class="invalid-feedback">Please enter height in cm.</div>
        </div>

        <div class="form-group">
            <label for="weightKg" class="form-label">Weight (kg)</label>
            <input type="number" class="form-control" id="weightKg" placeholder="Enter weight in kg" required onchange="calculateBMI()">
            <div class="invalid-feedback">Please enter weight in kg.</div>
        </div>

        <div class="form-group">
            <label for="bmi" class="form-label">Body Mass Index (BMI)</label>
            <input type="number" class="form-control" id="bmi" placeholder="BMI will auto-calculate" readonly>
        </div>

        <!-- Heart Rate, Breathing Rate, and Pulse Oximeter -->
        <div class="form-group">
            <label for="heartbeat" class="form-label">Heart Rate (bpm)</label>
            <input type="number" class="form-control" id="heartbeat" placeholder="Enter heart rate in bpm" required>
            <div class="invalid-feedback">Please enter heart rate in bpm.</div>
        </div>

        <div class="form-group">
            <label for="breathingRate" class="form-label">Breathing Rate (breaths/min)</label>
            <input type="number" class="form-control" id="breathingRate" placeholder="Enter breathing rate" required>
            <div class="invalid-feedback">Please enter breathing rate.</div>
        </div>

        <div class="form-group">
            <label for="pulseOximeter" class="form-label">Pulse Oximeter (%)</label>
            <input type="number" class="form-control" id="pulseOximeter" placeholder="Enter pulse oximeter reading" required>
            <div class="invalid-feedback">Please enter pulse oximeter reading.</div>
        </div>

        <!-- Blood Pressure -->
        <div class="form-group">
            <label for="systolic" class="form-label">Systolic BP</label>
            <input type="number" class="form-control" id="systolic" placeholder="Systolic" required>
            <div class="invalid-feedback">Please enter systolic blood pressure.</div>
        </div>

        <div class="form-group">
            <label for="diastolic" class="form-label">Diastolic BP</label>
            <input type="number" class="form-control" id="diastolic" placeholder="Diastolic" required>
            <div class="invalid-feedback">Please enter diastolic blood pressure.</div>
        </div>

        <!-- Fetal Heartbeat and Fundal Height -->
        <div class="form-group">
            <label for="fetalHeartbeat" class="form-label">Fetal Heartbeat (bpm)</label>
            <input type="number" class="form-control" id="fetalHeartbeat" placeholder="Enter fetal heartbeat" required>
            <div class="invalid-feedback">Please enter fetal heartbeat.</div>
        </div>

        <div class="form-group">
            <label for="fundalHeightCm" class="form-label">Fundal Height (cm)</label>
            <input type="number" class="form-control" id="fundalHeightCm" placeholder="Enter fundal height" required>
            <div class="invalid-feedback">Please enter fundal height in cm.</div>
        </div>

        <!-- Blood Glucose -->
        <div class="form-group">
            <label for="bloodGlucose" class="form-label">Blood Glucose (mmol/L)</label>
            <input type="number" step="0.01" class="form-control" id="bloodGlucose" placeholder="Enter blood glucose level" required>
            <div class="invalid-feedback">Please enter blood glucose level in mmol/L.</div>
        </div>

        <!-- Urine Protein and Urine Glucose -->
        <div class="form-group">
            <label for="urineProtein" class="form-label">Urine Protein</label>
            <input type="text" class="form-control" id="urineProtein" placeholder="e.g., Negative, Trace" required>
            <div class="invalid-feedback">Please enter urine protein result.</div>
        </div>

        <div class="form-group">
            <label for="urineGlucose" class="form-label">Urine Glucose</label>
            <input type="text" class="form-control" id="urineGlucose" placeholder="e.g., Negative, Trace" required>
            <div class="invalid-feedback">Please enter urine glucose result.</div>
        </div>

        <!-- Expected Delivery Type -->
        <div class="form-group">
            <label for="expectedDeliveryType" class="form-label">Expected Delivery Type</label>
            <input type="text" class="form-control" id="expectedDeliveryType" placeholder="e.g., Vaginal, C-section" required>
            <div class="invalid-feedback">Please enter the expected delivery type.</div>
        </div>

        <!-- Progress Notes and Midwife Notes -->
        <div class="form-group">
            <label for="progressNotes" class="form-label">Progress Notes</label>
            <textarea class="form-control" id="progressNotes" placeholder="Enter progress notes" rows="3" required></textarea>
        </div>
        
        <div class="form-group">
            <label for="mmidwifeNotes" class="form-label">Midwife Notes</label>
            <textarea class="form-control" id="mmidwifeNotes" placeholder="Enter midwife notes" rows="3"></textarea>
        </div>

        <!-- Buttons -->
        <div class="button-row">
            <button type="button" class="btn custom-save">Save</button>
            <button type="button" class="btn custom-edit">Edit</button>
            <button type="button" class="btn custom-delete">Delete</button>
        </div>
    </form>
</div>

<!-- CSS Styling -->
<style>
    /* Layout for the header with contact information */
    .header-row {
        display: grid;
        grid-template-columns: 1fr auto auto;
        align-items: center;
        gap: 3px; /* Further reduced gap */
        margin-bottom: 3px; /* Further reduced margin */
    }

    .contact-info {
        display: flex;
        flex-direction: column;
        margin-bottom: 3px; /* Further reduced space between contact-info items */
    }

    /* Condensed three-column layout for form fields */
    .form-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 2px; /* Further reduced gap between fields */
        max-width: 600px; /* Reduced max-width for narrower form */
        margin: 3px auto; /* Further reduced margin */
    }

    .form-label {
        font-size: 10px; /* Smaller font size */
        color: #333;
        font-weight: bold;
        margin-bottom: 1px; /* Reduced margin */
    }

    .form-control {
        padding: 3px; /* Further reduced padding */
        font-size: 10px; /* Smaller font size */
        border-radius: 2px;
        border: 1px solid #ced4da;
        margin-bottom: 3px; /* Further reduced margin between fields */
    }

    /* Button Row */
    .button-row {
        grid-column: span 3;
        display: flex;
        justify-content: center;
        gap: 3px; /* Reduced gap between buttons */
        margin-top: 3px; /* Reduced margin above button row */
    }

    .custom-save, .custom-edit, .custom-delete {
        padding: 3px 6px; /* Smaller padding */
        font-size: 10px; /* Smaller font size */
        border-radius: 2px;
        cursor: pointer;
        border: none;
        color: white;
    }

    .custom-save { background-color: #28a745; }
    .custom-edit { background-color: #007bff; }
    .custom-delete { background-color: #dc3545; }

    /* Responsive Design */
    @media (max-width: 768px) {
        .form-grid { grid-template-columns: 1fr; }
    }
</style>

<script>
function calculateBMI() {
    const height = parseFloat(document.getElementById("heightCm").value) || 0;
    const weight = parseFloat(document.getElementById("weightKg").value) || 0;
    const bmi = weight + height; // Modified to sum height and weight
    document.getElementById("bmi").value = bmi.toFixed(2);
}

// Add event listeners to trigger calculation when either field changes
document.getElementById("heightCm").addEventListener("input", calculateBMI);
document.getElementById("weightKg").addEventListener("input", calculateBMI);
document.getElementById('typeOfContact').addEventListener('change', function () {
    const contactType = this.value;
    const onlineCallLinkSection = document.getElementById('onlineCallLinkSection');

    if (contactType === 'voiceOnlineCall' || contactType === 'videoOnlineCall') {
        onlineCallLinkSection.style.display = 'block';
        document.getElementById('onlineCallLink').required = true;
    } else {
        onlineCallLinkSection.style.display = 'none';
        document.getElementById('onlineCallLink').required = false;
    }
});
</script>

  <!-- Previous Pregnancies Section -->
  <div id="previousPregnancies" class="tab-pane active">
    <h3>Previous Pregnancies</h3>
    <form id="previousPregnanciesForm" novalidate>
        <!-- Number of Pregnancies -->
        <div class="mb-3">
            <label for="numberOfPregnancies" class="form-label">Number of Pregnancies</label>
            <input type="number" class="form-control" id="numberOfPregnancies" placeholder="Enter the number of pregnancies" required>
            <div class="invalid-feedback">Please enter the number of pregnancies.</div>
        </div>

        <!-- Number of Miscarriages -->
        <div class="mb-3">
            <label for="numberOfMiscarriages" class="form-label">Number of Miscarriages</label>
            <input type="number" class="form-control" id="numberOfMiscarriages" placeholder="Enter the number of miscarriages" required>
            <div class="invalid-feedback">Please enter the number of miscarriages.</div>
        </div>

        <!-- Dynamic Form for Child Details -->
        <div id="pregnancyForms"></div>

        <!-- Button to Add Child Details -->
        <div id="addChildSection" class="hidden">
            <button type="button" id="addChildButton" onclick="addChild()">Add Child Details</button>
        </div>

        <!-- Save and Edit Buttons -->
        <div class="button-row d-flex justify-content-between mb-3">
            <button type="button" class="btn custom-save" id="saveChildBtn" onclick="saveChildDetails()">Save Child</button>
            <button type="button" class="btn custom-delete" onclick="deleteEntry()">Delete All</button>
        </div>
    </form>
</div>
<style>
    /* Previous Pregnancies Section Styling */
#previousPregnanciesForm {
    background-color: #e5ecee;
    padding: 4px; /* Compact padding */
    border-radius: 5px;
    border: 2px solid #28a745;
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* Three-column layout */
    gap: 5px; /* Reduced gap for compact form layout */
    max-width: 850px; /* Maximum form width */
    margin: auto; /* Center the form */
}

.form-label {
    font-size: 12px;
    color: #333;
    font-weight: bold;
    margin-bottom: 3px; /* Compact margin */
}

.form-control {
    padding: 5px;
    font-size: 12px;
    border-radius: 3px;
    border: 1px solid #ced4da;
}

/* Button Row Styling */
.button-row {
    grid-column: span 3; /* Full width across 3 columns */
    display: flex;
    justify-content: space-between; /* Align buttons with space between */
    gap: 5px;
    margin-top: 10px;
}

.custom-save, .custom-delete {
    padding: 6px 12px;
    font-size: 12px;
    border-radius: 3px;
    cursor: pointer;
    border: none;
    color: white;
}

.custom-save { background-color: #28a745; }
.custom-delete { background-color: #dc3545; }

/* Template for Child Details Form Styling */
.pregnancy-form {
    background-color: #f7f7f7;
    padding: 10px;
    border-radius: 5px;
    border: 1px solid #ced4da;
    margin-top: 8px;
}

.pregnancy-form h5 {
    font-size: 13px;
    color: #333;
    margin-bottom: 5px;
    font-weight: bold;
}

/* Specific Styling for Dynamic Form Elements */
.pregnancy-form .form-select {
    width: 100%;
    padding: 5px;
    font-size: 12px;
    border-radius: 3px;
    border: 1px solid #ced4da;
}

/* Responsive Design Adjustments */
@media (max-width: 768px) {
    #previousPregnanciesForm {
        grid-template-columns: 1fr; /* Single column layout on smaller screens */
    }
    
    .form-control, .form-label {
        font-size: 10px; /* Adjust font size for mobile */
    }
    
    .button-row {
        flex-direction: column; /* Stack buttons on smaller screens */
        gap: 4px;
    }
}

@media (max-width: 576px) {
    .form-label, .form-control {
        font-size: 9px; /* Further reduced font size on extra small screens */
    }
    
    .button-row button {
        padding: 5px 10px;
    }
}

</style>
<!-- Template for Child Details Form -->
<script id="pregnancyFormTemplate" type="text/template">
    <div class="pregnancy-form" id="child_<%= index %>">
        <h5>Child <%= index %> Details</h5>

        <!-- Child's Gender -->
        <div class="mb-3">
            <label for="gender_<%= index %>" class="form-label">Child's Gender</label>
            <select class="form-select" id="gender_<%= index %>" required>
                <option value="">Select Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
            </select>
        </div>

        <!-- Delivery Type -->
        <div class="mb-3">
            <label for="deliveryType_<%= index %>" class="form-label">Delivery Type</label>
            <select class="form-select" id="deliveryType_<%= index %>" required>
                <option value="">Select Delivery Type</option>
                <option value="vaginal">Vaginal</option>
                <option value="c-section">C-section</option>
                <option value="assisted">Assisted Delivery</option>
                <option value="natural">Natural Delivery</option>
                <option value="waterBirth">Water Birth</option>
                <option value="forceps">Forceps Delivery</option>
                <option value="vacuum">Vacuum Extraction</option>
                <option value="breech">Breech Birth</option>
            </select>
        </div>

        <!-- Child's Birth Status -->
        <div class="mb-3">
            <label for="alive_<%= index %>" class="form-label">Is the child alive?</label>
            <select class="form-select" id="alive_<%= index %>" required>
                <option value="">Select</option>
                <option value="yes">Yes</option>
                <option value="no">No</option>
            </select>
        </div>

        <!-- Birth Weight -->
        <div class="mb-3">
            <label for="birthWeight_<%= index %>" class="form-label">Birth Weight (grams)</label>
            <input type="number" class="form-control" id="birthWeight_<%= index %>" placeholder="Enter birth weight" required>
        </div>

        <!-- Year of Delivery -->
        <div class="mb-3">
            <label for="deliveryYear_<%= index %>" class="form-label">Year of Delivery</label>
            <input type="date" class="form-control" id="deliveryYear_<%= index %>" required>
        </div>
    </div>
</script>

<!-- JavaScript to Handle Dynamic Form Generation -->
<script>
    let currentChild = 0; // Track current child being added
    let numberOfChildDetailsForms = 0; // Total number of children to add

    document.getElementById('numberOfPregnancies').addEventListener('input', generateChildDetailsLogic);
    document.getElementById('numberOfMiscarriages').addEventListener('input', generateChildDetailsLogic);

    function generateChildDetailsLogic() {
        const numberOfPregnancies = parseInt(document.getElementById('numberOfPregnancies').value) || 0;
        const numberOfMiscarriages = parseInt(document.getElementById('numberOfMiscarriages').value) || 0;
        const addChildSection = document.getElementById('addChildSection');
        const pregnancyFormsDiv = document.getElementById('pregnancyForms');

        // Clear previous child forms
        pregnancyFormsDiv.innerHTML = '';
        currentChild = 0; // Reset current child

        if (numberOfPregnancies <= numberOfMiscarriages) {
            addChildSection.classList.add('hidden'); // Hide add child button if no children to add
        } else {
            numberOfChildDetailsForms = numberOfPregnancies - numberOfMiscarriages;
            addChildSection.classList.remove('hidden'); // Show add child button
        }
    }

    function addChild() {
        if (currentChild < numberOfChildDetailsForms) {
            currentChild++;
            const template = document.getElementById('pregnancyFormTemplate').innerHTML;
            const rendered = template.replace(/<%= index %>/g, currentChild);
            document.getElementById('pregnancyForms').innerHTML = rendered; // Replace existing form with new one

            if (currentChild === numberOfChildDetailsForms) {
                document.getElementById('addChildButton').disabled = true; // Disable button after all children are added
            }
        }
    }

    function saveChildDetails() {
        alert('Child details saved!');
        document.getElementById('pregnancyForms').innerHTML = ''; // Clear the form for the next child
        document.getElementById('addChildButton').disabled = false; // Enable add button after saving a child
    }

    function deleteEntry() {
        if (confirm('Are you sure you want to delete all entries?')) {
            document.getElementById('pregnancyForms').innerHTML = '';
            document.getElementById('addChildButton').disabled = false;
            currentChild = 0; // Reset the child count
        }
    }
</script>
<!-- Laboratory Results Section -->
<div id="laboratoryResults" class="tab-pane active">
    <h3>Laboratory Results</h3>

    <!-- Cumulative Results Link Positioned at the Top -->
    <div class="cumulative-section text-center mb-4">
        <a href="#cumulativeResultsModal" data-bs-toggle="modal" class="form-label">
            <i class="fas fa-list-alt"></i> View Cumulative Results
        </a>
    </div>


    <form id="laboratoryResultsForm" novalidate>
        <div class="row lab-grid">
            <!-- Chemistry Section -->
            <div class="col-md-6 chemistry-section">
                <h5>Chemistry</h5>
                
                <div class="mb-3">
                    <label for="hemoglobin" class="form-label">Hemoglobin (g/dL)</label>
                    <input type="number" step="0.1" class="form-control" id="hemoglobin" placeholder="e.g., 13.5" required>
                    <div class="invalid-feedback">Please enter the hemoglobin level.</div>
                </div>
                <div class="mb-3">
                    <label for="bloodType" class="form-label">Blood Type</label>
                    <input type="text" class="form-control" id="bloodType" placeholder="e.g., O+" required>
                    <div class="invalid-feedback">Please enter the blood type.</div>
                </div>
                <div class="mb-3">
                    <label for="rhFactor" class="form-label">RH Factor</label>
                    <input type="text" class="form-control" id="rhFactor" placeholder="e.g., Positive" required>
                    <div class="invalid-feedback">Please enter the RH factor.</div>
                </div>
                <div class="mb-3">
                    <label for="ferritin" class="form-label">Ferritin (g/L)</label>
                    <input type="number" step="0.1" class="form-control" id="ferritin" placeholder="e.g., 50" required>
                    <div class="invalid-feedback">Please enter the ferritin level.</div>
                </div>
                <div class="mb-3">
                    <label for="bloodGlucose" class="form-label">Blood Glucose (mmol/L)</label>
                    <input type="number" step="0.01" class="form-control" id="bloodGlucose" placeholder="e.g., 5.5" required>
                    <div class="invalid-feedback">Please enter the blood glucose level.</div>
                </div>
                <div class="mb-3">
                    <label for="folicAcid" class="form-label">Folic Acid (E12)</label>
                    <input type="number" step="0.1" class="form-control" id="folicAcid" placeholder="e.g., 10.2" required>
                    <div class="invalid-feedback">Please enter the folic acid level.</div>
                </div>
                <div class="mb-3">
                    <label for="tsh" class="form-label">TSH</label>
                    <input type="number" step="0.1" class="form-control" id="tsh" placeholder="e.g., 1.2" required>
                    <div class="invalid-feedback">Please enter the TSH level.</div>
                </div>
                <div class="mb-3">
                    <label for="pT4" class="form-label">P-T4</label>
                    <input type="number" step="0.1" class="form-control" id="pT4" placeholder="e.g., 12.0" required>
                    <div class="invalid-feedback">Please enter the P-T4 level.</div>
                </div>
            </div>

            <!-- Microbiology Section -->
            <div class="col-md-6 microbiology-section">
                <h5>Microbiology</h5>

                <div class="mb-3">
                    <label for="hivStatus" class="form-label">HIV Status</label>
                    <input type="text" class="form-control" id="hivStatus" placeholder="e.g., Negative" required>
                    <div class="invalid-feedback">Please enter the HIV status.</div>
                </div>
                <div class="mb-3">
                    <label for="hepatitisBStatus" class="form-label">Hepatitis B Status</label>
                    <input type="text" class="form-control" id="hepatitisBStatus" placeholder="e.g., Negative" required>
                    <div class="invalid-feedback">Please enter the Hepatitis B status.</div>
                </div>
                <div class="mb-3">
                    <label for="hepatitisCStatus" class="form-label">Hepatitis C Status</label>
                    <input type="text" class="form-control" id="hepatitisCStatus" placeholder="e.g., Negative" required>
                    <div class="invalid-feedback">Please enter the Hepatitis C status.</div>
                </div>
                <div class="mb-3">
                    <label for="syphilisStatus" class="form-label">Syphilis Status</label>
                    <input type="text" class="form-control" id="syphilisStatus" placeholder="e.g., Negative" required>
                    <div class="invalid-feedback">Please enter the syphilis status.</div>
                </div>
                <div class="mb-3">
                    <label for="gonorrheaStatus" class="form-label">Gonorrhea Status</label>
                    <input type="text" class="form-control" id="gonorrheaStatus" placeholder="e.g., Negative" required>
                    <div class="invalid-feedback">Please enter the gonorrhea status.</div>
                </div>
                <div class="mb-3">
                    <label for="rubella" class="form-label">Rubella</label>
                    <input type="text" class="form-control" id="rubella" placeholder="e.g., Immune" required>
                    <div class="invalid-feedback">Please enter the rubella status.</div>
                </div>
                <div class="mb-3">
                    <label for="malariaTest" class="form-label">Malaria Test</label>
                    <input type="text" class="form-control" id="malariaTest" placeholder="e.g., Negative" required>
                    <div class="invalid-feedback">Please enter the malaria test result.</div>
                </div>
                <div class="mb-3">
                    <label for="mycoplasmaTest" class="form-label">Mycoplasma Test</label>
                    <input type="text" class="form-control" id="mycoplasmaTest" placeholder="e.g., Negative" required>
                    <div class="invalid-feedback">Please enter the mycoplasma test result.</div>
                </div>
            </div>
        </div>

        <!-- Save and Edit Buttons -->
        <div class="button-row d-flex justify-content-between mt-3">
            <button type="button" class="btn custom-save">Save</button>
            <button type="button" class="btn custom-edit">Edit</button>
            <button type="button" class="btn custom-delete">Delete</button>
        </div>
    </form>
</div>


<style>
    /* Center the Request Lab Tests Link */
    .cumulative-section {
        grid-column: span 3;
        text-align: center;
        margin-bottom: 5px;
    }

    /* Three-Column Layout */
    .form-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 5px;
        max-width: 750px;
        margin: 0 auto;
    }

    /* Section Styling */
    .chemistry-section, .microbiology-section {
        background-color: #f9f9f9;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    /* Label and Input Styling */
    .form-label {
        font-weight: bold;
        font-size: 11px;
        margin-bottom: 2px;
    }

    .form-control {
        padding: 4px;
        font-size: 11px;
        border-radius: 3px;
        border: 1px solid #ced4da;
    }

    /* Button Row Styling */
    .button-row {
        grid-column: span 3;
        display: flex;
        justify-content: center;
        gap: 5px;
        margin-top: 5px;
    }

    .custom-save, .custom-edit, .custom-delete {
        padding: 4px 10px;
        font-size: 11px;
        border-radius: 3px;
        cursor: pointer;
        border: none;
        color: white;
    }

    .custom-save { background-color: #28a745; }
    .custom-edit { background-color: #007bff; }
    .custom-delete { background-color: #dc3545; }

    /* Responsive Design */
    @media (max-width: 768px) {
        .form-grid { grid-template-columns: 1fr; }
    }
</style>

<!-- Cumulative Results Section -->
<div id="cumulativeResultsModal" class="modal fade" tabindex="-1" aria-labelledby="cumulativeResultsLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="cumulativeResultsLabel">Cumulative Laboratory Results</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
  
          <!-- Chemistry Section -->
          <h5>Chemistry</h5>
          <table class="table table-bordered" id="chemistryTable">
            <thead>
              <tr>
                <th>Test Name</th>
                <th>Date 1</th>
                <th>Date 2</th>
                <th>Date 3</th>
                <th>Date 4</th>
                <th>Date 5</th>
                <th>Date 6</th>
                <th>Reference Range</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Hemoglobin (g/dL)</td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td>12.0 - 16.0 g/dL</td>
              </tr>
              <tr>
                <td>Blood Type</td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td>-</td>
              </tr>
              <tr>
                <td>Ferritin (g/L)</td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td>30 - 400 g/L</td>
              </tr>
              <tr>
                <td>Blood Glucose (mmol/L)</td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td>4.0 - 6.0 mmol/L</td>
              </tr>
              <tr>
                <td>Rubella</td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td>-</td>
              </tr>
              <tr>
                <td>Rh Factor</td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td><input type="text" class="form-control"></td>
                <td>-</td>
              </tr>
            </tbody>
          </table>
  
          <!-- Microbiology Section -->
          <h5>Microbiology</h5>
          <table class="table table-bordered" id="microbiologyTable">
            <thead>
              <tr>
                <th>Test Name</th>
                <th>Date 1</th>
                <th>Date 2</th>
                <th>Date 3</th>
                <th>Date 4</th>
                <th>Date 5</th>
                <th>Date 6</th>
                <th>Reference Range</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>HIV Status</td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td>Negative</td>
              </tr>
              <tr>
                <td>Hepatitis B Status</td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td>Negative</td>
              </tr>
              <tr>
                <td>Hepatitis C Status</td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td>Negative</td>
              </tr>
              <tr>
                <td>Syphilis Status</td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td>Negative</td>
              </tr>
              <tr>
                <td>Gonorrhea Status</td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td>Negative</td>
              </tr>
              <tr>
                <td>Malaria Test</td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td>Negative</td>
              </tr>
              <tr>
                <td>Mycoplasma Test</td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td><input type="date" class="form-control"></td>
                <td>Negative</td>
              </tr>
            </tbody>
          </table>
  
        </div>
        <div class="button-row">
          <button type="button" class="btn custom-save">Save</button>
          <button type="button" class="btn custom-edit">Edit</button>
          <button type="button" class="btn custom-delete">Delete</button>
        </div>
        
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  

<!-- Care Plan Section -->
<div id="carePlan" class="tab-pane active">
    <div class="header-row">
        <h3>Care Plan</h3>

        <!-- Type of Contact and Date of Contact beside header -->
        <div class="contact-info">
            <label for="contactType" class="form-label">Type of Contact</label>
            <select class="form-control" id="contactType" required onchange="handleContactTypeChange()">
                <option value="" disabled selected>Select contact type</option>
                <option value="physical">Physical Contact</option>
                <option value="voice">Online Voice Call</option>
                <option value="video">Online Video Call</option>
            </select>
            <div class="invalid-feedback">Please select the type of contact.</div>
        </div>

        <div class="contact-info">
            <label for="contactDate" class="form-label">Date of Contact</label>
            <input type="date" class="form-control" id="contactDate" required>
            <div class="invalid-feedback">Please enter the date of contact.</div>
        </div>
    </div>

    <form id="carePlanForm" class="form-grid compact-form" novalidate>

        <!-- Online Call Link (Visible only if Online Call is selected) -->
        <div class="form-group" id="onlineCallLink" style="display: none;">
            <label for="callLink" class="form-label">Online Call Link</label>
            <input type="url" class="form-control" id="callLink" placeholder="Enter the online call link">
            <div class="invalid-feedback">Please enter the online call link.</div>
        </div>

        <!-- Upcoming Appointments -->
        <h5 class="col-span-3">Upcoming Appointments</h5>
        <div class="form-group">
            <label for="appointmentDate" class="form-label">Appointment Date</label>
            <input type="date" class="form-control" id="appointmentDate" required>
            <div class="invalid-feedback">Please select the appointment date.</div>
        </div>
        <div class="form-group">
            <label for="appointmentReason" class="form-label">Reason for Appointment</label>
            <input type="text" class="form-control" id="appointmentReason" placeholder="e.g., Routine Check-up" required>
            <div class="invalid-feedback">Please enter the reason for the appointment.</div>
        </div>
        <div class="form-group">
            <label for="monitoringPlan" class="form-label">Monitoring Plan</label>
            <textarea class="form-control" id="monitoringPlan" rows="2" placeholder="e.g., Monitor contractions every 30 minutes" required></textarea>
            <div class="invalid-feedback">Please enter the monitoring plan.</div>
        </div>

        <!-- Fetal Movements and Well-Being -->
        <h5 class="col-span-3">Fetal Movements and Well-Being</h5>
        <div class="form-group">
            <label for="fetalWellBeing" class="form-label">Fetal Movements</label>
            <textarea class="form-control" id="fetalWellBeing" rows="2" placeholder="e.g., Observations of fetal movements and well-being" required></textarea>
            <div class="invalid-feedback">Please enter details about fetal well-being.</div>
        </div>
        <div class="form-group">
            <label for="contractionsStatus" class="form-label">Contractions Status</label>
            <input type="text" class="form-control" id="contractionsStatus" placeholder="e.g., Frequent, Mild" required>
            <div class="invalid-feedback">Please enter the contractions status.</div>
        </div>
        <div class="form-group">
            <label for="activityStatus" class="form-label">Activity Status</label>
            <input type="text" class="form-control" id="activityStatus" placeholder="e.g., Resting, Active" required>
            <div class="invalid-feedback">Please enter the activity status.</div>
        </div>

        <!-- Plan Section -->
        <h5 class="col-span-3">Plan</h5>
        <div class="form-group">
            <label for="medicationsGiven" class="form-label">Medications</label>
            <input type="text" class="form-control" id="medicationsGiven" placeholder="e.g., Oxytocin, Antibiotics" required>
            <div class="invalid-feedback">Please enter the medications given.</div>
        </div>
        <div class="form-group">
            <label for="nextSteps" class="form-label">Next Steps</label>
            <input type="text" class="form-control" id="nextSteps" placeholder="e.g., Continue monitoring, Increase medication" required>
            <div class="invalid-feedback">Please enter the next steps.</div>
        </div>
        <div class="form-group">
            <label for="deliveryLikelihood" class="form-label">Likelihood of Delivery</label>
            <input type="text" class="form-control" id="deliveryLikelihood" placeholder="e.g., Imminent, Unlikely" required>
            <div class="invalid-feedback">Please enter the likelihood of delivery.</div>
        </div>

        <!-- Buttons -->
        <div class="button-row">
            <button type="button" class="btn custom-save">Save</button>
            <button type="button" class="btn custom-edit">Edit</button>
            <button type="button" class="btn custom-delete">Delete</button>
        </div>
    </form>
</div>


<style>
    /* Layout for the header with contact information */
    .header-row {
        display: grid;
        grid-template-columns: 1fr auto auto;
        align-items: center;
        gap: 5px;
        margin-bottom: 5px;
    }

    .contact-info {
        display: flex;
        flex-direction: column;
    }

    /* Three-column layout with compact styling */
    .compact-form {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 3px;
        max-width: 850px;
        margin: 5px auto;
    }

    .form-label {
        font-size: 11px;
        color: #333;
        font-weight: bold;
        margin-bottom: 2px;
    }

    .form-control {
        padding: 3px;
        font-size: 11px;
        border-radius: 3px;
        border: 1px solid #ced4da;
    }

    /* Compact headings */
    .col-span-3 {
        grid-column: span 3;
        font-weight: bold;
        font-size: 12px;
        margin: 8px 0 4px;
    }

    /* Button Row */
    .button-row {
        grid-column: span 3;
        display: flex;
        justify-content: center;
        gap: 3px;
        margin-top: 5px;
    }

    .custom-save, .custom-edit, .custom-delete {
        padding: 4px 8px;
        font-size: 11px;
        border-radius: 3px;
        cursor: pointer;
        border: none;
        color: white;
    }

    .custom-save { background-color: #28a745; }
    .custom-edit { background-color: #007bff; }
    .custom-delete { background-color: #dc3545; }

    /* Responsive adjustments for smaller screens */
    @media (max-width: 768px) {
        .compact-form { grid-template-columns: 1fr; }
    }
</style>

<!-- JavaScript to Show/Hide Online Call Link Based on Contact Type -->
<script>
function handleContactTypeChange() {
    const contactType = document.getElementById('contactType').value;
    const onlineCallLink = document.getElementById('onlineCallLink');
    
    if (contactType === 'voice' || contactType === 'video') {
        onlineCallLink.style.display = 'block';
    } else {
        onlineCallLink.style.display = 'none';
    }
}
</script>
<!-- Midwife Notes Section -->
<div id="midwifeNotes" class="tab-pane active">
    <div class="header-row">
        <h3>Midwife Notes</h3>

        <!-- Type of Contact and Date of Contact beside header -->
        <div class="contact-info">
            <label for="contactType" class="form-label">Type of Contact</label>
            <select class="form-control" id="contactType" required onchange="handleContactTypeChange()">
                <option value="" disabled selected>Select contact type</option>
                <option value="physical">Physical Office Contact</option>
                <option value="voice">Online Voice Call</option>
                <option value="video">Online Video Call</option>
            </select>
            <div class="invalid-feedback">Please select the type of contact.</div>
        </div>

        <div class="contact-info">
            <label for="contactDate" class="form-label">Date of Contact</label>
            <input type="date" class="form-control" id="contactDate" required>
            <div class="invalid-feedback">Please select the date of contact.</div>
        </div>
    </div>

    <form id="midwifeNotesForm" class="form-grid" novalidate>

        <!-- Column 1 -->
        <div class="form-group">
            <label for="noteDate" class="form-label">Date</label>
            <input type="date" class="form-control" id="noteDate" required>
            <div class="invalid-feedback">Please select the date.</div>
        </div>
        <div class="form-group">
            <label for="generalWellbeing" class="form-label">General Wellbeing</label>
            <input type="text" class="form-control" id="generalWellbeing" placeholder="e.g., Stable, Good" required>
            <div class="invalid-feedback">Please enter the general wellbeing.</div>
        </div>
        <div class="form-group">
            <label for="movementsFrequency" class="form-label">Movements Frequency</label>
            <input type="text" class="form-control" id="movementsFrequency" placeholder="e.g., Active, Less Active" required>
            <div class="invalid-feedback">Please enter the fetal movements frequency.</div>
        </div>

        <!-- Column 2 -->
        <div class="form-group">
            <label for="noteTime" class="form-label">Time</label>
            <input type="time" class="form-control" id="noteTime" required>
            <div class="invalid-feedback">Please select the time.</div>
        </div>
        <div class="form-group">
            <label for="bloodPressureStatus" class="form-label">Blood Pressure Status</label>
            <input type="text" class="form-control" id="bloodPressureStatus" placeholder="e.g., Normal, High" required>
            <div class="invalid-feedback">Please enter the blood pressure status.</div>
        </div>
        <div class="form-group">
            <label for="fetalPosition" class="form-label">Fetal Position</label>
            <input type="text" class="form-control" id="fetalPosition" placeholder="e.g., Cephalic, Breech" required>
            <div class="invalid-feedback">Please enter the fetal position.</div>
        </div>

        <!-- Column 3 -->
        <div class="form-group">
            <label for="noteType" class="form-label">Note Type</label>
            <input type="text" class="form-control" id="noteType" placeholder="e.g., Routine Check-up, Emergency" required>
            <div class="invalid-feedback">Please enter the note type.</div>
        </div>
        <div class="form-group">
            <label for="contractionDetails" class="form-label">Contractions</label>
            <input type="text" class="form-control" id="contractionDetails" placeholder="e.g., Mild, Frequent" required>
            <div class="invalid-feedback">Please enter contraction details.</div>
        </div>
        <div class="form-group">
            <label for="progressNotes" class="form-label">Progress Notes</label>
            <textarea class="form-control" id="progressNotes" rows="2" placeholder="Enter progress notes" required></textarea>
            <div class="invalid-feedback">Please enter the progress notes.</div>
        </div>

        <!-- Additional Fields -->
        <div class="form-group">
            <label for="mmidwifeNotes" class="form-label">Midwife Notes</label>
            <textarea class="form-control" id="mmidwifeNotes" rows="2" placeholder="Enter midwife notes" required></textarea>
            <div class="invalid-feedback">Please enter midwife notes.</div>
        </div>

        <!-- Save, Edit, and Delete Buttons -->
        <div class="button-row">
            <button type="button" class="btn custom-save">Save</button>
            <button type="button" class="btn custom-edit">Edit</button>
            <button type="button" class="btn custom-delete">Delete</button>
        </div>

    </form>
</div>



<!-- CSS Styling -->
<style>
 
    /* Layout for the header with contact information */
    .header-row {
        display: grid;
        grid-template-columns: 1fr auto auto;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
    }

    .contact-info {
        display: flex;
        flex-direction: column;
    }

    /* Three-column layout for form fields */
    .form-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        max-width: 900px;
        margin: 0 auto;
    }

    .form-label {
        font-size: 12px;
        color: #333;
        font-weight: bold;
        margin-bottom: 3px;
    }

    .form-control {
        padding: 5px;
        font-size: 12px;
        border-radius: 3px;
        border: 1px solid #ced4da;
    }

    /* Button Row */
    .button-row {
        grid-column: span 3;
        display: flex;
        justify-content: center;
        gap: 5px;
        margin-top: 10px;
    }

    .custom-save, .custom-edit, .custom-delete {
        padding: 6px 12px;
        font-size: 12px;
        border-radius: 3px;
        cursor: pointer;
        border: none;
        color: white;
    }

    .custom-save { background-color: #28a745; }
    .custom-edit { background-color: #007bff; }
    .custom-delete { background-color: #dc3545; }

    /* Responsive Design */
    @media (max-width: 768px) {
        .form-grid { grid-template-columns: 1fr; }
    }

    /* Reduced margin for the outer frame */
    .tab-pane.active {
        padding: 6px;
        border-radius: 5px;
        border: 1px solid #28a745;
        margin: 8px auto;
        max-width: 85%;
        box-shadow: 0px 2px 5px rgba(0, 0, 0, 0.1);
        background-color: #ffffff;
    }
</style>

</style>



<!-- JavaScript to Show/Hide Online Call Link Based on Contact Type -->
<script>
function handleContactTypeChange() {
    const contactType = document.getElementById('contactType').value;
    const onlineCallLink = document.getElementById('onlineCallLink');
    
    if (contactType === 'voice' || contactType === 'video') {
        onlineCallLink.style.display = 'block';
    } else {
        onlineCallLink.style.display = 'none';
    }
}
</script>

  <!-- Labor and Delivery Section -->
<div id="laborDelivery" class="tab-pane active">
    <h3>Labor and Delivery</h3>
    <form id="laborDeliveryForm" class="form-grid" novalidate>

        <!-- Column 1 -->
        <div class="form-group">
            <label for="deliveryDate" class="form-label">Delivery Date</label>
            <input type="date" class="form-control" id="deliveryDate" required>
            <div class="invalid-feedback">Please enter the delivery date.</div>
        </div>
        <div class="form-group">
            <label for="deliveryType" class="form-label">Delivery Type</label>
            <input type="text" class="form-control" id="deliveryType" placeholder="e.g., Vaginal, C-section" required>
            <div class="invalid-feedback">Please enter the delivery type.</div>
        </div>
        <div class="form-group">
            <label for="babySex" class="form-label">Sex of Baby</label>
            <input type="text" class="form-control" id="babySex" placeholder="e.g., Male, Female" required>
            <div class="invalid-feedback">Please enter the sex of the baby.</div>
        </div>
        <div class="form-group">
            <label for="birthWeight" class="form-label">Birth Weight (grams)</label>
            <input type="number" class="form-control" id="birthWeight" required>
            <div class="invalid-feedback">Please enter the birth weight.</div>
        </div>

        <!-- Column 2 -->
        <div class="form-group">
            <label for="gestationalAge" class="form-label">Gestational Age</label>
            <input type="text" class="form-control" id="gestationalAge" placeholder="e.g., 39 weeks" required>
            <div class="invalid-feedback">Please enter the gestational age.</div>
        </div>
        <div class="form-group">
            <label for="birthLength" class="form-label">Birth Length (cm)</label>
            <input type="number" class="form-control" id="birthLength" required>
            <div class="invalid-feedback">Please enter the birth length.</div>
        </div>
        <div class="form-group">
            <label for="headCircumference" class="form-label">Head Circumference (cm)</label>
            <input type="number" class="form-control" id="headCircumference" required>
            <div class="invalid-feedback">Please enter the head circumference.</div>
        </div>
        <div class="form-group">
            <label for="babyStatus" class="form-label">Baby Status</label>
            <input type="text" class="form-control" id="babyStatus" placeholder="e.g., Healthy, Distressed" required>
            <div class="invalid-feedback">Please enter the baby's status.</div>
        </div>

        <!-- Column 3 (Apgar Score) -->
        <h5 class="col-span-3">Apgar Score</h5>
        <div class="form-group">
            <label for="apgar1min" class="form-label">1 Minute</label>
            <input type="number" class="form-control" id="apgar1min" required>
            <div class="invalid-feedback">Please enter the 1-minute Apgar score.</div>
        </div>
        <div class="form-group">
            <label for="apgar5min" class="form-label">5 Minutes</label>
            <input type="number" class="form-control" id="apgar5min" required>
            <div class="invalid-feedback">Please enter the 5-minute Apgar score.</div>
        </div>
        <div class="form-group">
            <label for="apgar10min" class="form-label">10 Minutes</label>
            <input type="number" class="form-control" id="apgar10min" required>
            <div class="invalid-feedback">Please enter the 10-minute Apgar score.</div>
        </div>

        <!-- Buttons -->
        <div class="button-row">
            <button type="button" class="btn custom-save">Save</button>
            <button type="button" class="btn custom-edit">Edit</button>
            <button type="button" class="btn custom-delete">Delete</button>
        </div>

    </form>
</div>
<style>
    /* Layout for the header with contact information */
    .header-row {
        display: grid;
        grid-template-columns: 1fr auto auto;
        align-items: center;
        gap: 10px;
        margin-bottom: 10px;
    }

    .contact-info {
        display: flex;
        flex-direction: column;
    }

    /* Three-column layout for form fields */
    .form-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 10px;
        max-width: 900px;
        margin: 0 auto;
    }

    .form-label {
        font-size: 12px;
        color: #333;
        font-weight: bold;
        margin-bottom: 3px;
    }

    .form-control {
        padding: 5px;
        font-size: 12px;
        border-radius: 3px;
        border: 1px solid #ced4da;
    }

    /* Column-spanning Apgar Score heading */
    .col-span-3 {
        grid-column: span 3;
        font-weight: bold;
        font-size: 14px;
        margin: 10px 0 5px;
    }

    /* Button Row */
    .button-row {
        grid-column: span 3;
        display: flex;
        justify-content: center;
        gap: 5px;
        margin-top: 10px;
    }

    .custom-save, .custom-edit, .custom-delete {
        padding: 6px 12px;
        font-size: 12px;
        border-radius: 3px;
        cursor: pointer;
        border: none;
        color: white;
    }

    .custom-save { background-color: #28a745; }
    .custom-edit { background-color: #007bff; }
    .custom-delete { background-color: #dc3545; }

    /* Responsive Design */
    @media (max-width: 768px) {
        .form-grid { grid-template-columns: 1fr; }
    }
</style>


 <!-- Partograph Section -->
<div id="partograph" class="tab-pane hide">
    <h3>Partograph Chart</h3>

    <!-- Partograph Chart Display Section with Zoom Controls -->
    <div class="partograph-container text-center mb-3">
        <img src="image.png" id="partographImage" alt="WHO Partograph Chart" class="partograph" style="max-width: 100%; height: auto;">
    </div>

    <!-- Zoom Control Buttons -->
    <div class="zoom-controls text-center mb-4">
        <button onclick="zoomIn()" class="btn btn-primary">Zoom In</button>
        <button onclick="zoomOut()" class="btn btn-secondary">Zoom Out</button>
        <button onclick="resetZoom()" class="btn btn-outline-primary">Reset</button>
    </div>

    <!-- Form Grid Layout with Three Columns -->
    <form id="partographForm" class="form-grid">
        <!-- Column 1: Fetal Condition and Contractions Per Minute -->
        <div class="form-column">
            <h4>Fetal Condition</h4>
            <div class="form-group">
                <label for="fetalHeartRate">Fetal Heart Rate</label>
                <input type="number" id="fetalHeartRate" class="form-control" placeholder="Enter heart rate (bpm)">
            </div>
            <div class="form-group">
                <label for="amnioticFluid">Amniotic Fluid</label>
                <select id="amnioticFluid" class="form-control">
                    <option value="clear">Clear</option>
                    <option value="meconium">Meconium</option>
                    <option value="blood-stained">Blood-stained</option>
                </select>
            </div>
            <div class="form-group">
                <label for="moulding">Moulding</label>
                <input type="text" id="moulding" class="form-control" placeholder="Enter moulding details">
            </div>

            <h4>Contractions Per Minute</h4>
            <div class="form-group">
                <label for="contractionFrequency">Frequency</label>
                <input type="number" id="contractionFrequency" class="form-control" placeholder="Enter contractions per 10 minutes">
            </div>
            <div class="form-group">
                <label for="contractionDuration">Duration (seconds)</label>
                <input type="number" id="contractionDuration" class="form-control" placeholder="Enter duration (seconds)">
            </div>
            <div class="form-group">
                <label for="contractionIntensity">Intensity</label>
                <select id="contractionIntensity" class="form-control">
                    <option value="mild">Mild</option>
                    <option value="moderate">Moderate</option>
                    <option value="strong">Strong</option>
                </select>
            </div>
        </div>

        <!-- Column 2: Progress of Labour and Maternal Condition -->
        <div class="form-column">
            <h4>Progress of Labour</h4>
            <div class="form-group">
                <label for="cervicalDilation">Cervical Dilation (cm)</label>
                <input type="number" id="cervicalDilation" class="form-control" placeholder="Enter dilation (cm)">
            </div>
            <div class="form-group">
                <label for="descentOfHead">Descent of Head (cm)</label>
                <input type="number" id="descentOfHead" class="form-control" placeholder="Enter descent (cm)">
            </div>
            <div class="form-group">
                <label for="station">Station</label>
                <input type="text" id="station" class="form-control" placeholder="Enter station (e.g., -3, 0, +3)">
            </div>

            <h4>Maternal Condition</h4>
            <div class="form-group">
                <label for="pulseRate">Pulse Rate (bpm)</label>
                <input type="number" id="pulseRate" class="form-control" placeholder="Enter pulse rate (bpm)">
            </div>
            <div class="form-group">
                <label for="bloodPressure">Blood Pressure (mmHg)</label>
                <input type="text" id="bloodPressure" class="form-control" placeholder="Enter blood pressure (e.g., 120/80)">
            </div>
            <div class="form-group">
                <label for="temperature">Temperature (C)</label>
                <input type="number" id="temperature" class="form-control" placeholder="Enter temperature (C)">
            </div>
        </div>

        <!-- Column 3: Maternal Condition (continued) and Management -->
        <div class="form-column">
            <div class="form-group">
                <label for="urineVolume">Urine Volume (ml)</label>
                <input type="number" id="urineVolume" class="form-control" placeholder="Enter urine volume">
            </div>
            <div class="form-group">
                <label for="urineProtein">Urine Protein</label>
                <select id="urineProtein" class="form-control">
                    <option value="negative">Negative</option>
                    <option value="trace">Trace</option>
                    <option value="positive">Positive</option>
                </select>
            </div>

            <h4>Management</h4>
            <div class="form-group">
                <label for="drugsAdministered">Drugs Administered</label>
                <textarea id="drugsAdministered" class="form-control" rows="2" placeholder="Enter drugs administered"></textarea>
            </div>
            <div class="form-group">
                <label for="ivFluids">IV Fluids</label>
                <textarea id="ivFluids" class="form-control" rows="2" placeholder="Enter IV fluids given"></textarea>
            </div>
            <div class="form-group">
                <label for="generalNotes">General Notes</label>
                <textarea id="generalNotes" class="form-control" rows="3" placeholder="Enter additional notes"></textarea>
            </div>
        </div>
    </form>

    <!-- Cumulative Results Link -->
    <div class="form-section text-center">
        <a href="#cumulativeResultsModal" data-bs-toggle="modal" class="btn btn-outline-info mt-3">
            <i class="fas fa-list-alt"></i> View Cumulative Results
        </a>
    </div>

    <!-- Button Row for Navigation -->
    <div class="button-row d-flex justify-content-between mt-4">
        <button id="backButton" type="button" class="btn btn-secondary">Back</button>
        <button id="saveContinueButton" type="button" class="btn btn-primary">Save & Continue</button>
    </div>
</div>

<style>
  .form-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
    max-width: 1200px;
    margin: 0 auto;
}

.form-column {
    background-color: #f9f9f9;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    gap: 15px;
}
</style>

<script>
      // Function to show a specific service form and load patient data
function showService(serviceId) { 
    hideAllSections(); // Hide all other sections first
    document.getElementById(serviceId).style.display = 'block'; // Display the selected service

    // Remove 'active' class from all links first
    const links = document.querySelectorAll('#otherServicesNav a');
    links.forEach(link => {
        link.classList.remove('active');
    });

    // Add 'active' class to the clicked link
    const activeLink = document.querySelector(`#otherServicesNav a[onclick="showService('${serviceId}')"]`);
    if (activeLink) {
        activeLink.classList.add('active');
    }

    // Load the selected patient's data for this service
    loadPatientData(serviceId); // Call a function to load data, assuming `selectedPatientId` is set
    document.getElementById('socialLivingConditionsAndLifestyleHabits').classList.add('active'); 
}

// Function to hide all sections (forms) within the patient services navigation
function hideAllSections() {
    const sections = document.querySelectorAll('.tab-pane');
    sections.forEach(section => section.style.display = 'none'); // Hide all sections
}

// Array to hold registered patients
let patients = [];

// Function to toggle the registration form within the home section
function toggleRegistrationForm() {
    const registrationForm = document.getElementById('patientRegistration');
    if (registrationForm.style.display === 'none' || registrationForm.style.display === '') {
        registrationForm.style.display = 'block';
    } else {
        registrationForm.style.display = 'none';
    }
}

// Function to register a new patient
function registerPatient() {
    const admissionType = document.getElementById('admissionType').value;
    const personalNumber = document.getElementById('personalNumber').value;
    const fullName = document.getElementById('fullName').value;
    const birthDate = document.getElementById('birthDate').value;
    const mobilePhone = document.getElementById('mobilePhone').value;
    const emergencyContact = document.getElementById('emergencyContact').value;
    const midwifeNotes = document.getElementById('midwifeNotes').value;

    const newPatient = {
        admissionType,
        personalNumber,
        fullName,
        birthDate,
        mobilePhone,
        emergencyContact,
        midwifeNotes
    };

    // Add the new patient to the array and update the display
    patients.push(newPatient);

    // Clear the form, hide it, and refresh the home view
    document.getElementById('patientRegistrationForm').reset();
    document.getElementById('patientRegistration').style.display = 'none';
    displayPatients(patients);
}

// Function to display patients on the home page
function displayPatients(patientList) {
    const tbody = document.getElementById("patientsTableBody");
    tbody.innerHTML = ""; // Clear existing rows

    patientList.forEach(patient => {
        const row = document.createElement("tr");
        row.innerHTML = `
            <td>${patient.personalNumber}</td>
            <td>${patient.fullName}</td>
            <td>${patient.birthDate}</td>
            <td>${patient.mobilePhone}</td>
            <td>${patient.emergencyContact}</td>
            <td>
                <button class="btn btn-sm btn-warning" onclick="editPatient('${patient.personalNumber}')">Edit</button>
                <button class="btn btn-sm btn-danger" onclick="deletePatient('${patient.personalNumber}')">Delete</button>
                <button class="btn btn-sm btn-info" onclick="viewPatient('${patient.fullName}', '${patient.birthDate}')">View Patient</button>
            </td>
        `;
        tbody.appendChild(row);
    });
}

// Function to filter patients by admission type
function filterPatientsByType() {
    const filter = document.getElementById("admissionTypeFilter").value;
    const filteredPatients = filter === "all" ? patients : patients.filter(patient => patient.admissionType === filter);
    displayPatients(filteredPatients);
}

// Function to cancel registration and return to the home section
function cancelRegistration() {
    document.getElementById('patientRegistrationForm').reset();
    document.getElementById('patientRegistration').style.display = 'none';
}

// Function to view patient details
function viewPatient(name, dob) {
    document.getElementById('patientInfoSection').style.display = 'block';
    document.getElementById('patientName').innerText = name;

    const birthDate = new Date(dob);
    const today = new Date();
    let age = today.getFullYear() - birthDate.getFullYear();
    const m = today.getMonth() - birthDate.getMonth();
    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
        age--;
    }
    document.getElementById('patientAge').innerText = age;

    hideAllSections();
    document.getElementById('otherServicesNav').style.display = 'block';
    
}

// Function to show home section and hide other sections
function showHome() {
    hideAllSections();
    document.getElementById('homeSection').style.display = 'block';
    document.getElementById('otherServicesNav').style.display = 'none';
    document.getElementById('patientInfoSection').style.display = 'none';
}

// Function to show journal reports section
function showJournalReports() {
    hideAllSections();
    document.getElementById('journalReports').style.display = 'block';
}

// Function to hide all sections (to be used when switching views)
function hideAllSections() {
    const sections = document.querySelectorAll('.tab-pane');
    sections.forEach(section => section.style.display = 'none');
}

// Function to toggle dropdown menus
function toggleDropdown(dropdownId) {
    const dropdown = document.getElementById(dropdownId);
    if (dropdown.style.display === "none" || dropdown.style.display === "") {
        dropdown.style.display = "block";
    } else {
        dropdown.style.display = "none";
    }
}

// Placeholder function for showing different patient types
function showCreatePatient(type) {
    console.log(`Selected admission type: ${type}`);
    toggleRegistrationForm(); // Show the patient registration form in the home section
}

// Function to edit patient (placeholder function)
function editPatient(personalNumber) {
    alert(`Edit patient with personal number: ${personalNumber}`);
}

// Function to delete patient
function deletePatient(personalNumber) {
    // Remove the patient from the array
    patients = patients.filter(patient => patient.personalNumber !== personalNumber);
    displayPatients(patients);
}

// Initialize the home page to display all patients on load
document.addEventListener('DOMContentLoaded', () => {
    showHome();
    displayPatients(patients); // Initialize with empty or preset data
});


    </script>
</body>
</html>
